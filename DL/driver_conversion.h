#ifndef _DRIVER_CONVERSION_H_
#define _DRIVER_CONVERSION_H_

#define LUT_FACTOR 8
#define TABLE_SIZE 512

typedef struct {
    unsigned short ir_front[TABLE_SIZE] = {1700,1700,1700,1700,1700,1700,1700,1700,1700,1700,1700,1700,1700,1700,1700,1700,1700,1700,1700,1700,1700,1700,1700,1700,1700,1700,1700,1700,1699,1685,1671,1657,1643,1630,1617,1604,1592,1579,1567,1555,1543,1531,1520,1508,1497,1486,1475,1464,1453,1443,1432,1422,1411,1401,1391,1381,1371,1361,1351,1342,1332,1322,1313,1303,1294,1285,1275,1266,1257,1248,1239,1230,1221,1212,1203,1194,1185,1176,1167,1158,1150,1141,1132,1124,1115,1107,1098,1090,1081,1073,1064,1056,1047,1039,1031,1023,1014,1006,998,990,982,974,966,958,950,942,934,926,918,910,902,895,887,879,872,864,857,849,842,834,827,820,813,805,798,791,784,777,770,763,756,749,743,736,729,723,716,710,703,697,691,684,678,672,666,660,654,648,642,636,630,625,619,613,608,602,597,592,586,581,576,571,566,561,556,551,546,542,537,532,528,523,519,514,510,506,501,497,493,489,485,481,477,473,470,466,462,459,455,451,448,444,441,438,435,431,428,425,422,419,416,413,410,407,404,401,399,396,393,391,388,386,383,381,378,376,373,371,369,366,364,362,360,357,355,353,351,349,347,345,343,341,339,337,335,333,332,330,328,326,324,323,321,319,317,316,314,312,311,309,307,306,304,302,301,299,298,296,294,293,291,290,288,287,285,284,282,281,279,278,276,275,273,272,270,269,267,266,264,263,261,260,258,257,255,254,252,251,249,248,246,245,243,242,240,239,237,236,234,233,231,230,228,227,226,224,223,221,220,218,217,215,214,212,211,209,208,207,205,204,202,201,200,198,197,195,194,193,191,190,188,187,186,184,183,182,181,179,178,177,175,174,173,172,170,169,168,167,166,164,163,162,161,160,159,158,157,156,154,153,152,151,150,149,148,147,146,146,145,144,143,142,141,140,139,138,138,137,136,135,134,134,133,132,131,131,130,129,128,128,127,126,126,125,124,124,123,122,122,121,120,120,119,118,118,117,117,116,115,115,114,113,113,112,111,111,110,109,108,108,107,106,105,105,104,103,102,101,101,100,99,98,97,96,95,94,93,92,91,90,89,87,86,85,84,83,81,80,79,77,76,75,73,72,70,69,67,66,64,62,61,59,57,56,54,52,50,49,47,45,43,41,39,38,36,34,32,30,28,26,25,23,21,19,17,16,14,12,11,9,8,6,5,4,2,1,0,-1,-2,-3,-3,-4,-4,-4,-4,-4,-4,-4,-3,-2,-1,0};
    unsigned short ir_left[TABLE_SIZE] = {1647,1625,1603,1581,1560,1539,1518,1498,1477,1457,1437,1418,1398,1379,1360,1341,1323,1305,1286,1269,1251,1234,1216,1199,1182,1166,1149,1133,1117,1102,1086,1071,1055,1040,1026,1011,997,982,968,954,941,927,914,901,888,875,862,850,838,826,814,802,790,779,768,756,746,735,724,714,703,693,683,673,663,654,644,635,626,617,608,599,591,582,574,566,558,550,542,534,527,520,512,505,498,491,484,478,471,465,458,452,446,440,434,428,423,417,411,406,401,396,391,386,381,376,371,367,362,358,354,349,345,341,337,333,329,326,322,319,315,312,308,305,302,299,296,293,290,287,284,282,279,277,274,272,269,267,265,263,261,259,257,255,253,251,249,247,246,244,243,241,240,238,237,235,234,233,232,230,229,228,227,226,225,224,223,223,222,221,220,219,219,218,217,217,216,216,215,215,214,214,213,213,213,212,212,212,211,211,211,211,210,210,210,210,210,210,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,208,208,208,208,208,208,208,208,207,207,207,207,207,206,206,206,206,205,205,205,204,204,204,203,203,202,202,202,201,201,200,200,199,199,198,198,197,196,196,195,194,194,193,192,192,191,190,189,188,188,187,186,185,184,183,182,181,180,179,178,177,176,175,174,173,172,171,170,168,167,166,165,163,162,161,160,158,157,156,154,153,151,150,148,147,145,144,142,141,139,138,136,135,133,131,130,128,126,125,123,121,120,118,116,114,113,111,109,107,105,103,102,100,98,96,94,92,90,88,86,85,83,81,79,77,75,73,71,69,67,65,63,61,59,57,55,53,51,49,47,45,43,41,39,37,35,33,31,29,27,25,23,21,19,17,15,14,12,10,8,6,4,2,0,-1,-3,-5,-7,-9,-10,-12,-14,-15,-17,-19,-20,-22,-24,-25,-27,-28,-30,-31,-33,-34,-35,-37,-38,-39,-41,-42,-43,-44,-45,-46,-47,-48,-49,-50,-51,-52,-53,-54,-54,-55,-56,-56,-57,-57,-58,-58,-59,-59,-59,-59,-60,-60,-60,-60,-60,-60,-59,-59,-59,-58,-58,-58,-57,-56,-56,-55,-54,-53,-52,-51,-50,-49,-48,-46,-45,-44,-42,-40,-39,-37,-35,-33,-31,-29,-26,-24,-22,-19,-17,-14,-11,-8,-5,-2,1,4,8,11,15,18,22,26};
    unsigned short ir_right[TABLE_SIZE] = {1700,1686,1664,1642,1620,1599,1578,1557,1536,1516,1496,1476,1456,1437,1417,1398,1380,1361,1343,1324,1306,1289,1271,1254,1237,1220,1203,1187,1170,1154,1138,1123,1107,1092,1077,1062,1047,1032,1018,1004,990,976,962,949,936,923,910,897,884,872,860,848,836,824,812,801,790,779,768,757,746,736,725,715,705,695,686,676,667,657,648,639,630,621,613,604,596,588,580,572,564,556,548,541,534,526,519,512,506,499,492,486,479,473,467,461,455,449,443,437,432,426,421,416,411,405,400,396,391,386,382,377,373,368,364,360,356,352,348,344,340,337,333,330,326,323,319,316,313,310,307,304,301,298,296,293,290,288,285,283,281,278,276,274,272,270,268,266,264,262,260,258,257,255,253,252,250,249,247,246,245,243,242,241,240,238,237,236,235,234,233,232,231,231,230,229,228,227,227,226,225,225,224,223,223,222,222,221,221,220,220,219,219,219,218,218,218,217,217,217,216,216,216,216,215,215,215,215,215,215,214,214,214,214,214,214,213,213,213,213,213,213,213,213,213,212,212,212,212,212,212,212,212,211,211,211,211,211,211,211,210,210,210,210,210,210,209,209,209,209,209,208,208,208,207,207,207,207,206,206,206,205,205,204,204,204,203,203,202,202,201,201,200,200,199,199,198,198,197,197,196,195,195,194,193,193,192,191,190,189,189,188,187,186,185,184,184,183,182,181,180,179,178,177,176,175,174,173,171,170,169,168,167,166,164,163,162,161,159,158,157,155,154,153,151,150,148,147,146,144,143,141,140,138,137,135,133,132,130,129,127,125,124,122,120,119,117,115,113,112,110,108,106,105,103,101,99,97,95,94,92,90,88,86,84,82,80,78,77,75,73,71,69,67,65,63,61,59,57,55,53,51,49,47,45,43,41,39,38,36,34,32,30,28,26,24,22,20,18,16,14,13,11,9,7,5,3,1,0,-2,-4,-6,-7,-9,-11,-13,-14,-16,-17,-19,-21,-22,-24,-25,-27,-28,-30,-31,-33,-34,-35,-37,-38,-39,-40,-42,-43,-44,-45,-46,-47,-48,-49,-50,-51,-52,-53,-53,-54,-55,-55,-56,-57,-57,-57,-58,-58,-59,-59,-59,-59,-59,-59,-59,-59,-59,-59,-59,-58,-58,-58,-57,-57,-56,-55,-55,-54,-53,-52,-51,-50,-49,-48,-46,-45,-44,-42,-40,-39,-37,-35,-33,-31,-29,-27,-25,-22,-20,-17,-15,-12,-9,-6,-3,0,3,6,10,13,17,21,24};
}DistanceTable;

typedef struct {
    struct {
        unsigned short front;
        unsigned short left;
        unsigned short right;
        unsigned char done; // 1 when done converting distance, 0 when not done converting
    } Distance;

    unsigned short speed;
}ConversionData;

ConversionData ConvertedData;
// DistanceTable DistanceTable;

void Fetch_Distance();

#endif /* _DRIVER_CONVERSION_H_ */
